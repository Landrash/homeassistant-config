################################################################
## Packages / Network Device Monitoring
################################################################

homeassistant:
  customize:
    ################################################
    ## Node Anchors
    ################################################

    package.node_anchors:
      customize: &customize
        package: 'network_device_monitoring'

      expose: &expose
        <<: *customize
        haaska_hidden: false
        homebridge_hidden: false

################################################
## Device Tracker
################################################

    binary_sensor.net_chromecast_living_room:
      <<: *customize
      friendly_name: "Chromecast (Living Room)"

    binary_sensor.net_chromecast_master_bedroom:
      <<: *customize
      friendly_name: "Chromecast (Master Bedroom)"

    binary_sensor.tradfrigateway:
      <<: *customize
      friendly_name: "IKEA Tradfri"

    device_tracker.net_raspberry_pi:
      <<: *customize
      friendly_name: "Raspberry Pi"

################################################
## Group
################################################

    group.network_devices_source:
      <<: *customize
      friendly_name: "Network Device Sources"

    group.network_devices:
      <<: *customize
      friendly_name: "Network Devices"

    ################################################
    ## Sensor
    ################################################

    sensor.net_chromecast_living_room:
      <<: *customize
      friendly_name: "Chromecast (Living Room)"

    sensor.net_chromecast_master_bedroom:
      <<: *customize
      friendly_name: "Chromecast (Master Bedroom)"

    sensor.net_ikea_tradfri:
      <<: *customize
      friendly_name: "IKEA Tradfri"

    sensor.net_raspberry_pi:
      <<: *customize
      friendly_name: "Raspberry Pi"

    sensor.net_xiaomi_miio_vacuum:
      <<: *customize
      friendly_name: "Xiaomi Miio Vacuum"

    sensor.net_blue_balls_status:
      <<: *customize
      friendly_name: "BlÃ¥ Bollar"

    sensor.rgb_christmas_tree_status:
      <<: *customize
      friendly_name: "RGB Christmas Tree"

################################################
## Group
################################################

group:
  network_devices_source:
    control: hidden
    entities:
      - binary_sensor.net_chromecast_living_room
      - binary_sensor.net_chromecast_master_bedroom
      - binary_sensor.tradfrigateway
      - binary_sensor.living_room_sensornode_status
      - binary_sensor.geek_room_sensornode_status
      - binary_sensor.xiaomi_miio_vacuum
      - binary_sensor.blue_balls_status
      - binary_sensor.rgb_christmas_tree_status

  network_devices:
    control: hidden
    entities:
      - sensor.net_chromecast_living_room
      - sensor.net_chromecast_master_bedroom
      - sensor.net_ikea_tradfri
      - sensor.net_raspberry_pi
      - sensor.net_living_room_sensornode_status
      - sensor.net_geek_room_sensornode_status
      - sensor.net_xiaomi_miio_vacuum
      - sensor.net_blue_balls_status
      - sensor.net_rgb_christmas_tree_status

  zwave:
    control: hidden
    entities:
      - zwave.fibaro_system_fgwpef_wall_plug
      - zwave.fibaro_system_fgms001_motion_sensor
      - zwave.fibaro_system_fgd212_dimmer_2
      - zwave.zwaveme_zme_uzb1_usb_stick
      - zwave.danfoss_z_thermostat_014g0013
      - zwave.danfoss_z_thermostat_014g0013_2
      - zwave.danfoss_z_thermostat_014g0013_3

################################################
## Sensor
################################################

sensor:
  - platform: template
    sensors:
      net_chromecast_living_room:
        value_template: "{{ 'online' if is_state('binary_sensor.net_chromecast_living_room', 'on') else 'offline' }}"
        icon_template: "{{ 'mdi:check-circle-outline' if is_state('binary_sensor.net_chromecast_living_room', 'on') else 'mdi:alert-circle' }}"

      net_chromecast_master_bedroom:
        value_template: "{{ 'online' if is_state('binary_sensor.net_chromecast_master_bedroom', 'on') else 'offline' }}"
        icon_template: "{{ 'mdi:check-circle-outline' if is_state('binary_sensor.net_chromecast_master_bedroom', 'on') else 'mdi:alert-circle' }}"

      net_ikea_tradfri:
        value_template: "{{ 'online' if is_state('binary_sensor.tradfrigateway', 'on') else 'offline' }}"
        icon_template: "{{ 'mdi:check-circle-outline' if is_state('binary_sensor.tradfrigateway', 'on') else 'mdi:alert-circle' }}"

      net_living_room_sensornode_status:
        value_template: "{{ 'online' if is_state('binary_sensor.living_room_sensornode_status', 'on') else 'offline' }}"
        icon_template: "{{ 'mdi:check-circle-outline' if is_state('binary_sensor.living_room_sensornode_status', 'on') else 'mdi:alert-circle' }}"

      net_geek_room_sensornode_status:
        value_template: "{{ 'online' if is_state('binary_sensor.geek_room_sensornode_status', 'on') else 'offline' }}"
        icon_template: "{{ 'mdi:check-circle-outline' if is_state('binary_sensor.geek_room_sensornode_status', 'on') else 'mdi:alert-circle' }}"

      net_xiaomi_miio_vacuum:
        value_template: "{{ 'online' if is_state('binary_sensor.xiaomi_miio_vacuum', 'on') else 'offline' }}"
        icon_template: "{{ 'mdi:check-circle-outline' if is_state('binary_sensor.xiaomi_miio_vacuum', 'on') else 'mdi:alert-circle' }}"

      net_blue_balls_status:
        value_template: "{{ 'online' if is_state('binary_sensor.blue_balls_status', 'on') else 'offline' }}"
        icon_template: "{{ 'mdi:check-circle-outline' if is_state('binary_sensor.blue_balls_status', 'on') else 'mdi:alert-circle' }}"

      net_rgb_christmas_tree_status:
        value_template: "{{ 'online' if is_state('binary_sensor.rgb_christmas_tree_status', 'on') else 'offline' }}"
        icon_template: "{{ 'mdi:check-circle-outline' if is_state('binary_sensor.rgb_christmas_tree_status', 'on') else 'mdi:alert-circle' }}"

#  - platform: snmp
#    host: !secret unifi_edge_host
#    baseoid: !secret unifi_edge_host

################################################
## Sensor
################################################

binary_sensor:
  - platform: ping
    host: !secret tradfri_host
    name: tradfrigateway
  - platform: ping
    host: !secret vacuum_miio_host
    name: xiaomi_miio_vacuum
  - platform: ping
    host: !secret chromecast_living_room_host
    name: net_chromecast_living_room
  - platform: ping
    host: !secret chromecast_master_bedroom_host
    name: net_chromecast_master_bedroom
